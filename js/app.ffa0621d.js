(function(){"use strict";var e={8930:function(e,t,s){var i=s(5130),a=s(6768),o=s(4232);const r={class:"app-container"},n={key:"start"},l={key:"grade-select"},c={key:"question"},d={key:"optimization"},u={key:"schedule"};function m(e,t,s,m,h,p){const v=(0,a.g2)("start-component"),y=(0,a.g2)("grade-select-component"),k=(0,a.g2)("question-component"),g=(0,a.g2)("optimization-component"),b=(0,a.g2)("schedule-component");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(i.eB,{name:"fade",mode:"out-in"},{default:(0,a.k6)((()=>["start"===h.currentView?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(v,{onStartClicked:p.showGradeSelect},null,8,["onStartClicked"])])):"grade-select"===h.currentView?((0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(y,{initialGrade:h.grade,initialCredits:h.desiredCredits,onInfoSubmitted:p.handleInfoSubmission},null,8,["initialGrade","initialCredits","onInfoSubmitted"])])):"question"===h.currentView?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(k,{onAnswer:p.handleAnswer,questionNumber:h.currentQuestionIndex+1,totalQuestions:h.questions.length},{question:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(p.currentQuestion),1)])),_:1},8,["onAnswer","questionNumber","totalQuestions"])])):"optimization"===h.currentView?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(g,{"simulation-time":1e4,"optimization-data":{grade:h.grade,desired_credits:h.desiredCredits,user_morning:p.getAnswerFor(0),user_late:p.getAnswerFor(1),user_lunch:p.getAnswerFor(2),user_dayoff:p.getAnswerFor(3),user_no_large_gap:p.getAnswerFor(4)},onOptimizationCompleted:p.showSchedule},null,8,["optimization-data","onOptimizationCompleted"])])):"schedule"===h.currentView?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(b,{scheduleData:h.scheduleData,apiResult:h.apiResult,userPreferences:h.optimizationData,onRestart:p.restartApp},null,8,["scheduleData","apiResult","userPreferences","onRestart"])])):(0,a.Q3)("",!0)])),_:1})])}s(4114),s(8111),s(7588),s(8237);const h={class:"start-container"},p={class:"start-content"};function v(e,t,s,i,o,r){return(0,a.uX)(),(0,a.CE)("div",h,[(0,a.Lk)("div",p,[t[2]||(t[2]=(0,a.Lk)("h1",{class:"title"},"시간표 만들기",-1)),t[3]||(t[3]=(0,a.Lk)("p",{class:"subtitle"},"몇 가지 질문에 답하고 맞춤형 시간표를 만들어보세요",-1)),(0,a.Lk)("button",{class:"start-button",onClick:t[0]||(t[0]=(...e)=>r.onStartClick&&r.onStartClick(...e))},t[1]||(t[1]=[(0,a.Lk)("span",null,"시작하기",-1),(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a.Lk)("path",{d:"M5 12h14"}),(0,a.Lk)("path",{d:"m12 5 7 7-7 7"})],-1)]))])])}var y={name:"StartComponent",methods:{onStartClick(){this.$emit("start-clicked")}}},k=s(1241);const g=(0,k.A)(y,[["render",v],["__scopeId","data-v-122b5862"]]);var b=g;const C={class:"grade-select-container"},f={class:"grade-select-card"},L={class:"select-section"},S={class:"button-group"},E=["onClick"],_={class:"select-section"},w={class:"credits-slider"},z={class:"credits-value"},I=["disabled"];function T(e,t,s,r,n,l){return(0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("div",f,[t[4]||(t[4]=(0,a.Lk)("h1",{class:"title"},"기본 정보 입력",-1)),(0,a.Lk)("div",L,[t[2]||(t[2]=(0,a.Lk)("h2",{class:"section-title"},"학년 선택",-1)),(0,a.Lk)("div",S,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)([2,3,4],(e=>(0,a.Lk)("button",{key:e,class:(0,o.C4)(["option-button",{selected:n.grade===e}]),onClick:t=>l.selectGrade(e)},(0,o.v_)(e)+"학년 ",11,E))),64))])]),(0,a.Lk)("div",_,[t[3]||(t[3]=(0,a.Lk)("h2",{class:"section-title"},"희망 수강 학점",-1)),(0,a.Lk)("div",w,[(0,a.bo)((0,a.Lk)("input",{type:"range",min:"12",max:"21",step:"1","onUpdate:modelValue":t[0]||(t[0]=e=>n.localCredits=e),class:"slider"},null,512),[[i.Jo,n.localCredits,void 0,{number:!0}]]),(0,a.Lk)("div",z,(0,o.v_)(n.localCredits)+"학점",1)])]),(0,a.Lk)("button",{class:"action-button primary-button",disabled:!n.grade,onClick:t[1]||(t[1]=(...e)=>l.submitInfo&&l.submitInfo(...e))}," 다음으로 ",8,I)])])}var X={name:"GradeSelectComponent",props:{initialGrade:{type:Number,default:null},initialCredits:{type:Number,default:15}},data(){return{grade:this.initialGrade,localCredits:this.initialCredits}},methods:{selectGrade(e){this.grade=e},submitInfo(){this.grade&&this.$emit("info-submitted",{grade:this.grade,credits:this.localCredits})}}};const x=(0,k.A)(X,[["render",T],["__scopeId","data-v-42f36b56"]]);var O=x;const F={class:"question-container"},A={class:"question-card"},R={class:"progress-bar"},D={class:"question-content"},j={class:"question-number"},Q={class:"question-block"},M={class:"button-group"};function $(e,t,s,i,r,n){return(0,a.uX)(),(0,a.CE)("div",F,[(0,a.Lk)("div",A,[(0,a.Lk)("div",R,[(0,a.Lk)("div",{class:"progress",style:(0,o.Tr)({width:`${n.progress}%`})},null,4)]),(0,a.Lk)("div",D,[(0,a.Lk)("h2",j,"질문 "+(0,o.v_)(s.questionNumber)+"/"+(0,o.v_)(s.totalQuestions),1),(0,a.Lk)("div",Q,[(0,a.RG)(e.$slots,"question",{},(()=>[t[2]||(t[2]=(0,a.eW)("Question Block"))]),!0)])]),(0,a.Lk)("div",M,[(0,a.Lk)("button",{class:"answer-button yes-button",onClick:t[0]||(t[0]=e=>n.onAnswer(!0))},t[3]||(t[3]=[(0,a.Lk)("span",{class:"button-text"},"예",-1),(0,a.Lk)("span",{class:"button-icon"},"✓",-1)])),(0,a.Lk)("button",{class:"answer-button no-button",onClick:t[1]||(t[1]=e=>n.onAnswer(!1))},t[4]||(t[4]=[(0,a.Lk)("span",{class:"button-text"},"아니오",-1),(0,a.Lk)("span",{class:"button-icon"},"✕",-1)]))])])])}var B={name:"QuestionComponent",props:{questionNumber:{type:Number,default:1},totalQuestions:{type:Number,default:1}},computed:{progress(){return this.questionNumber/this.totalQuestions*100}},methods:{onAnswer(e){this.$emit("answer",e)}}};const q=(0,k.A)(B,[["render",$],["__scopeId","data-v-48bb3483"]]);var K=q;const P={class:"optimization-container"},W={class:"optimization-card"},G={class:"error-hint"},H={class:"timetable-container"},N={class:"timetable"},U={class:"timetable-cell time-cell"},V=["onClick"],J={key:0,class:"cell-content"},Y={class:"cell-title"},Z={key:0,class:"cell-location"},ee={key:0,class:"selected-courses-info"},te={class:"button-stack"},se=["disabled"],ie={key:0},ae={key:1},oe={key:1,class:"button-container"};function re(e,t,s,i,r,n){return(0,a.uX)(),(0,a.CE)("div",P,[(0,a.Lk)("div",W,[(0,a.Lk)("div",{class:(0,o.C4)(["status-message",{completed:r.optimizationCompleted,error:r.optimizationFailed}])},[r.optimizationCompleted&&!r.reoptimizing?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[t[4]||(t[4]=(0,a.eW)(" 최적화 완료! 당신의 맞춤형 시간표가 준비되었습니다. ")),t[5]||(t[5]=(0,a.Lk)("div",{class:"taken-course-hint"}," 시간표의 강의를 클릭하여 제외하고 다시 최적화할 수 있습니다. ",-1))],64)):r.reoptimizing?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)(" 선택한 강의를 제외하고 시간표를 다시 최적화하는 중... ")],64)):r.optimizationFailed?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.eW)((0,o.v_)(r.statusMessage)+" ",1),(0,a.Lk)("div",G,[t[6]||(t[6]=(0,a.Lk)("p",null,"시스템 오류가 발생했습니다. 다음 방법을 시도해보세요:",-1)),t[7]||(t[7]=(0,a.Lk)("ul",null,[(0,a.Lk)("li",null,"페이지를 새로고침하고 다시 시도"),(0,a.Lk)("li",null,"다른 옵션으로 시도"),(0,a.Lk)("li",null,"문제가 지속되면 관리자에게 문의")],-1)),(0,a.Lk)("button",{class:"retry-button",onClick:t[0]||(t[0]=(...e)=>n.retryOptimization&&n.retryOptimization(...e))},"다시 시도")])],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.eW)((0,o.v_)(r.statusMessage),1)],64))],2),(0,a.Lk)("div",H,[(0,a.Lk)("div",N,[t[8]||(t[8]=(0,a.Fv)('<div class="timetable-row header-row" data-v-01ddd408><div class="timetable-cell time-header-cell" data-v-01ddd408></div><div class="timetable-cell header-cell" data-v-01ddd408>월</div><div class="timetable-cell header-cell" data-v-01ddd408>화</div><div class="timetable-cell header-cell" data-v-01ddd408>수</div><div class="timetable-cell header-cell" data-v-01ddd408>목</div><div class="timetable-cell header-cell" data-v-01ddd408>금</div></div>',1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.timetableCells,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:`row-${t}`,class:"timetable-row"},[(0,a.Lk)("div",U,(0,o.v_)(n.getTimeLabel(t)),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{key:`cell-${t}-${s}`,class:(0,o.C4)(["timetable-cell day-cell",{"selected-for-removal":e.title&&this.excludedCourses.includes(e.courseId)}]),style:(0,o.Tr)({backgroundColor:e.color,opacity:e.opacity}),onClick:t=>e.title?n.toggleCourseExclusion(e):null},[e.title?((0,a.uX)(),(0,a.CE)("div",J,[(0,a.Lk)("div",Y,(0,o.v_)(e.title),1),e.location?((0,a.uX)(),(0,a.CE)("div",Z,(0,o.v_)(e.location),1)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)],14,V)))),128))])))),128))])]),r.excludedCourses.length>0?((0,a.uX)(),(0,a.CE)("div",ee,[(0,a.Lk)("p",null,(0,o.v_)(r.excludedCourses.length)+"개의 강의가 제외되었습니다.",1),(0,a.Lk)("div",te,[(0,a.Lk)("button",{class:"reoptimize-button",onClick:t[1]||(t[1]=(...e)=>n.reoptimizeSchedule&&n.reoptimizeSchedule(...e)),disabled:r.reoptimizing},[r.reoptimizing?((0,a.uX)(),(0,a.CE)("span",ae,"재최적화 중...")):((0,a.uX)(),(0,a.CE)("span",ie,"선택 강의 제외하고 재최적화"))],8,se),r.optimizationCompleted&&!r.reoptimizing?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"action-button primary-button",onClick:t[2]||(t[2]=(...e)=>n.onContinue&&n.onContinue(...e))}," 시간표 확인하기 ")):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),r.optimizationCompleted&&!r.reoptimizing&&0===r.excludedCourses.length?((0,a.uX)(),(0,a.CE)("div",oe,[(0,a.Lk)("button",{class:"action-button primary-button",onClick:t[3]||(t[3]=(...e)=>n.onContinue&&n.onContinue(...e))}," 시간표 확인하기 ")])):(0,a.Q3)("",!0)])])}s(1701);const ne={BASE_URL:"https://643d-210-102-204-31.ngrok-free.app",endpoints:{SCHEDULE:"/api/schedule",FEEDBACK:"/api/feedback"},getFullUrl(e){return`${this.BASE_URL}${e}`}};var le={name:"OptimizationTimetableComponent",props:{simulationTime:{type:Number,default:1e4},optimizationData:{type:Object,default:()=>({grade:2,desired_credits:15,user_morning:!1,user_late:!1,user_lunch:!1,user_dayoff:!1,user_no_large_gap:!1})}},data(){return{optimizationInterval:null,messageChangeInterval:null,optimizationCompleted:!1,statusMessage:"시간표 최적화 진행 중...",optimizationResult:null,timetableCells:[],timeSlots:18,daysOfWeek:5,colors:["#e67e22","#e74c3c","#f1c40f","#2ecc71","#3498db","#9b59b6"],optimizationMessages:["사용자 선호도 분석 중...","과목 간 시간 배치 최적화 중...","이미 수강한 과목을 선택하면, 이를 제외하고 맞춤형 시간표를 새로 최적화합니다...","시간대별 집중력 패턴 고려 중...","균형 잡힌 시간표 계산 중...","조성원 교수님과 상담중...","최적의 학습 루틴을 설계하는 중...","당신의 완벽한 하루를 계획 중...","강의실 이동 동선 최적화 중...","집중력과 휴식의 황금 비율 계산 중...","당신의 목표에 맞춘 시간표 튜닝 중...","최고의 학기 로드맵 그리는 중...","시간표 최적화 알고리즘 가동 중...","과목 간의 시너지 효과 분석 중...","시간표의 조화로운 배치 중..."],optimizationFailed:!1,excludedCourses:[],reoptimizing:!1,optimizationCount:0}},mounted(){this.initTimetable(),this.startOptimizationAnimation(),this.callOptimizationAPI()},beforeUnmount(){this.stopAnimations()},methods:{initTimetable(){this.timetableCells=Array(this.timeSlots).fill().map((()=>Array(this.daysOfWeek).fill().map((()=>({color:"white",opacity:1,title:"",location:"",courseId:null,isNew:!0})))))},getTimeLabel(e){const t=Math.floor(e/2)+9,s=e%2*30;return`${t}:${0===s?"00":s}`},startOptimizationAnimation(){this.messageChangeInterval=setInterval((()=>{const e=Math.floor(Math.random()*this.optimizationMessages.length);this.statusMessage=this.optimizationMessages[e]}),2500),this.optimizationInterval=setInterval((()=>{this.updateTimetableDuringOptimization()}),200)},updateTimetableDuringOptimization(){for(let e=0;e<this.timeSlots;e++)for(let t=0;t<this.daysOfWeek;t++)if(Math.random()>.7){const s=Math.random();if(s>.8){const s=Math.floor(Math.random()*this.colors.length);this.timetableCells[e][t].color=this.colors[s],this.timetableCells[e][t].opacity=.5*Math.random()+.5}else s>.4&&(this.timetableCells[e][t].color="white",this.timetableCells[e][t].opacity=1)}},async callOptimizationAPI(){try{this.optimizationInProgress=!0;const e=ne.getFullUrl(ne.endpoints.SCHEDULE),t={...this.optimizationData,excluded_courses:this.excludedCourses};console.log(`최적화 요청 데이터 (${this.optimizationCount+1}번째 요청):`,t);const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`API 요청 실패: ${s.status}`);this.optimizationResult=await s.json(),console.log(`최적화 결과 (${this.optimizationCount+1}번째):`,this.optimizationResult),this.optimizationCount++,setTimeout((()=>{this.completeOptimization()}),this.reoptimizing?2e3:this.simulationTime)}catch(e){console.error("API 호출 오류:",e),this.stopAnimations(),this.optimizationCompleted=!1,this.reoptimizing=!1,this.statusMessage="최적화 중 오류가 발생했습니다.",alert("시간표 최적화 중 오류가 발생했습니다. 관리자에게 문의하세요."),this.showErrorUI()}},showErrorUI(){this.optimizationResult=null,this.statusMessage="시간표 최적화에 실패했습니다.",this.optimizationFailed=!0},completeOptimization(){if(this.stopAnimations(),this.optimizationCompleted=!0,this.reoptimizing=!1,this.statusMessage="최적화 완료! 당신의 맞춤형 시간표가 준비되었습니다.",this.optimizationResult&&this.optimizationResult.selected){if(this.displayOptimizedSchedule(this.optimizationResult.selected),this.optimizationResult.excluded&&this.optimizationResult.excluded.length>0){console.log("서버에서 제외된 강의: ",this.optimizationResult.excluded);const e=this.optimizationResult.excluded.map((e=>e.subjId));this.excludedCourses=e}this.takenCoursesToRemove=[]}else this.showErrorUI()},displayOptimizedSchedule(e){this.initTimetable();let t=0;e.forEach((e=>{const s=this.colors[t%this.colors.length];t++,e.schedule_info.forEach((t=>{const i=t.day,a=t.start,o=t.end,r=t.location||"",n=this.getDayIndex(i);for(let l=a;l<=o;l++){const t=l-1;t>=0&&t<this.timeSlots&&n>=0&&n<this.daysOfWeek&&(this.timetableCells[t][n].color=s,this.timetableCells[t][n].opacity=1,this.timetableCells[t][n].title=e.name,this.timetableCells[t][n].location=r,this.timetableCells[t][n].courseId=e.subjId)}}))}))},getDayIndex(e){const t={"월":0,"화":1,"수":2,"목":3,"금":4};return void 0!==t[e]?t[e]:-1},stopAnimations(){this.optimizationInterval&&clearInterval(this.optimizationInterval),this.messageChangeInterval&&clearInterval(this.messageChangeInterval)},toggleCourseExclusion(e){if(!e.courseId)return;console.log(`토글 강의: ${e.title} (ID: ${e.courseId})`);const t=this.excludedCourses.indexOf(e.courseId);-1===t?this.excludedCourses.push(e.courseId):this.excludedCourses.splice(t,1),console.log("선택된 제외 강의:",this.excludedCourses)},reoptimizeSchedule(){0!==this.excludedCourses.length&&(this.reoptimizing=!0,this.optimizationCompleted=!1,this.statusMessage="선택한 강의를 제외하고 시간표를 다시 최적화하는 중...",console.log(`${this.excludedCourses.length}개 강의를 제외하고 재최적화 시작:`,this.excludedCourses),this.startOptimizationAnimation(),this.callOptimizationAPI())},onContinue(){this.$emit("optimization-completed",this.optimizationResult)},retryOptimization(){this.optimizationFailed=!1,this.statusMessage="시간표 최적화 진행 중...",this.startOptimizationAnimation(),this.callOptimizationAPI()}}};const ce=(0,k.A)(le,[["render",re],["__scopeId","data-v-01ddd408"]]);var de=ce;const ue={class:"schedule-container"},me={class:"schedule-card"},he={class:"schedule-content"},pe={class:"timetable"},ve={class:"timetable-grid"},ye={class:"grid-container"},ke={class:"schedule-grid"},ge={class:"item-title"},be={key:0,class:"item-location"},Ce={key:0,class:"course-info"},fe={class:"tab-menu"},Le={class:"tab-content"},Se={key:0,class:"tab-panel"},Ee={class:"summary-header"},_e={class:"summary-main-card"},we={class:"summary-content"},ze={class:"summary-title"},Ie={class:"summary-subtitle"},Te={class:"credits-progress"},Xe={class:"progress-bar"},xe={class:"progress-text"},Oe={class:"analysis-grid"},Fe={class:"analysis-card category-card"},Ae={class:"category-breakdown"},Re={key:0,class:"category-item major-required"},De={class:"category-info"},je={class:"category-credits"},Qe={class:"category-bar"},Me={key:1,class:"category-item major-elective"},$e={class:"category-info"},Be={class:"category-credits"},qe={class:"category-bar"},Ke={key:2,class:"category-item engineering-basic"},Pe={class:"category-info"},We={class:"category-credits"},Ge={class:"category-bar"},He={key:3,class:"category-item others"},Ne={class:"category-info"},Ue={class:"category-credits"},Ve={class:"category-bar"},Je={class:"analysis-card schedule-distribution"},Ye={class:"day-distribution"},Ze={class:"day-info"},et={class:"day-name"},tt={class:"day-count"},st={class:"day-bar"},it={class:"analysis-card time-analysis"},at={class:"time-stats"},ot={class:"time-stat-item"},rt={class:"stat-info"},nt={class:"stat-value"},lt={class:"time-stat-item"},ct={class:"stat-info"},dt={class:"stat-value"},ut={class:"time-stat-item"},mt={class:"stat-info"},ht={class:"stat-value"},pt={class:"analysis-card insights-card"},vt={class:"insights-content"},yt={class:"insight-text"},kt={class:"analysis-card recommendations"},gt={class:"recommendations-content"},bt={class:"rec-text"},Ct={key:1,class:"tab-panel"},ft={class:"category-list"},Lt={class:"category-title"},St={class:"category-credits"},Et={class:"course-items"},_t={class:"course-header"},wt={class:"course-name"},zt={class:"course-credits"},It={class:"course-details"},Tt={class:"course-grade"},Xt={class:"course-professor"},xt={class:"course-schedule"},Ot={key:0,class:"schedule-location"},Ft={key:2,class:"tab-panel"},At={class:"grade-list"},Rt={class:"grade-title"},Dt={class:"grade-count"},jt={class:"course-items"},Qt={class:"course-header"},Mt={class:"course-name"},$t={class:"course-credits"},Bt={class:"course-details"},qt={class:"course-category"},Kt={class:"course-professor"},Pt={class:"course-schedule"},Wt={key:0,class:"schedule-location"},Gt={key:1,class:"feedback-section"},Ht={class:"feedback-form"},Nt=["disabled"],Ut={key:0,class:"feedback-error"},Vt=["disabled"],Jt={key:0},Yt={key:1},Zt={key:2,class:"feedback-success"},es=["disabled"],ts={key:0},ss={key:1},is={key:3,class:"save-notification success"},as={key:4,class:"save-notification error"};function os(e,t,s,r,n,l){return(0,a.uX)(),(0,a.CE)("div",ue,[(0,a.Lk)("div",me,[t[32]||(t[32]=(0,a.Lk)("div",{class:"schedule-header"},[(0,a.Lk)("h1",{class:"title"},"당신의 시간표는"),(0,a.Lk)("p",{class:"subtitle"},"맞춤형 일정을 확인해보세요")],-1)),(0,a.Lk)("div",he,[(0,a.Lk)("div",pe,[t[8]||(t[8]=(0,a.Fv)('<div class="day-header" data-v-f2635dde><div class="time-slot" data-v-f2635dde></div><div class="day" data-v-f2635dde>월</div><div class="day" data-v-f2635dde>화</div><div class="day" data-v-f2635dde>수</div><div class="day" data-v-f2635dde>목</div><div class="day" data-v-f2635dde>금</div></div>',1)),(0,a.Lk)("div",ve,[(0,a.Lk)("div",ye,[t[7]||(t[7]=(0,a.Fv)('<div class="time-column" data-v-f2635dde><div class="time" data-v-f2635dde>9:00</div><div class="time" data-v-f2635dde>9:30</div><div class="time" data-v-f2635dde>10:00</div><div class="time" data-v-f2635dde>10:30</div><div class="time" data-v-f2635dde>11:00</div><div class="time" data-v-f2635dde>11:30</div><div class="time" data-v-f2635dde>12:00</div><div class="time" data-v-f2635dde>12:30</div><div class="time" data-v-f2635dde>13:00</div><div class="time" data-v-f2635dde>13:30</div><div class="time" data-v-f2635dde>14:00</div><div class="time" data-v-f2635dde>14:30</div><div class="time" data-v-f2635dde>15:00</div><div class="time" data-v-f2635dde>15:30</div><div class="time" data-v-f2635dde>16:00</div><div class="time" data-v-f2635dde>16:30</div><div class="time" data-v-f2635dde>17:00</div><div class="time" data-v-f2635dde>17:30</div></div>',1)),(0,a.Lk)("div",ke,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(18,(e=>(0,a.Lk)("div",{key:`grid-row-${e}`,class:"grid-row-divider",style:(0,o.Tr)({top:30*e+"px"})},null,4))),64)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.scheduleItems,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,o.C4)(["schedule-item",e.type]),style:(0,o.Tr)({gridColumn:`${e.day} / span 1`,gridRow:`${l.calculateGridRow(e.startHour,e.startMinute)} / span ${l.calculateGridSpan(e.duration)}`})},[(0,a.Lk)("span",ge,(0,o.v_)(e.title),1),e.location?((0,a.uX)(),(0,a.CE)("span",be,(0,o.v_)(e.location),1)):(0,a.Q3)("",!0)],6)))),128))])])])])]),n.coursesSummary?((0,a.uX)(),(0,a.CE)("div",Ce,[t[25]||(t[25]=(0,a.Lk)("h2",{class:"info-title"},"선택된 과목 정보",-1)),(0,a.Lk)("div",fe,[(0,a.Lk)("button",{class:(0,o.C4)(["tab-button",{active:"summary"===n.activeTab}]),onClick:t[0]||(t[0]=e=>n.activeTab="summary")}," 수강 요약 ",2),(0,a.Lk)("button",{class:(0,o.C4)(["tab-button",{active:"category"===n.activeTab}]),onClick:t[1]||(t[1]=e=>n.activeTab="category")}," 학점별 분류 ",2),(0,a.Lk)("button",{class:(0,o.C4)(["tab-button",{active:"grade"===n.activeTab}]),onClick:t[2]||(t[2]=e=>n.activeTab="grade")}," 학년별 수강 과목 ",2)]),(0,a.Lk)("div",Le,["summary"===n.activeTab?((0,a.uX)(),(0,a.CE)("div",Se,[(0,a.Lk)("div",Ee,[(0,a.Lk)("div",_e,[t[9]||(t[9]=(0,a.Lk)("div",{class:"summary-icon"},"📚",-1)),(0,a.Lk)("div",we,[(0,a.Lk)("h2",ze,(0,o.v_)(n.coursesSummary.totalCredits)+"학점",1),(0,a.Lk)("p",Ie,"총 "+(0,o.v_)(n.coursesSummary.totalCourses)+"개 과목 수강",1),(0,a.Lk)("div",Te,[(0,a.Lk)("div",Xe,[(0,a.Lk)("div",{class:"progress-fill",style:(0,o.Tr)({width:n.coursesSummary.totalCredits/s.userPreferences.desired_credits*100+"%"})},null,4)]),(0,a.Lk)("span",xe,"목표: "+(0,o.v_)(s.userPreferences.desired_credits)+"학점",1)])])])]),(0,a.Lk)("div",Oe,[(0,a.Lk)("div",Fe,[t[14]||(t[14]=(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("h3",{class:"card-title"},[(0,a.Lk)("span",{class:"card-icon"},"🎯"),(0,a.eW)(" 학점별 분류 ")])],-1)),(0,a.Lk)("div",Ae,[n.coursesSummary.creditsByCategory.전공필수?((0,a.uX)(),(0,a.CE)("div",Re,[(0,a.Lk)("div",De,[t[10]||(t[10]=(0,a.Lk)("span",{class:"category-name"},"전공필수",-1)),(0,a.Lk)("span",je,(0,o.v_)(n.coursesSummary.creditsByCategory.전공필수)+"학점",1)]),(0,a.Lk)("div",Qe,[(0,a.Lk)("div",{class:"bar-fill",style:(0,o.Tr)({width:n.coursesSummary.creditsByCategory.전공필수/n.coursesSummary.totalCredits*100+"%"})},null,4)])])):(0,a.Q3)("",!0),n.coursesSummary.creditsByCategory.전공선택?((0,a.uX)(),(0,a.CE)("div",Me,[(0,a.Lk)("div",$e,[t[11]||(t[11]=(0,a.Lk)("span",{class:"category-name"},"전공선택",-1)),(0,a.Lk)("span",Be,(0,o.v_)(n.coursesSummary.creditsByCategory.전공선택)+"학점",1)]),(0,a.Lk)("div",qe,[(0,a.Lk)("div",{class:"bar-fill",style:(0,o.Tr)({width:n.coursesSummary.creditsByCategory.전공선택/n.coursesSummary.totalCredits*100+"%"})},null,4)])])):(0,a.Q3)("",!0),n.coursesSummary.creditsByCategory.공학기초?((0,a.uX)(),(0,a.CE)("div",Ke,[(0,a.Lk)("div",Pe,[t[12]||(t[12]=(0,a.Lk)("span",{class:"category-name"},"공학기초",-1)),(0,a.Lk)("span",We,(0,o.v_)(n.coursesSummary.creditsByCategory.공학기초)+"학점",1)]),(0,a.Lk)("div",Ge,[(0,a.Lk)("div",{class:"bar-fill",style:(0,o.Tr)({width:n.coursesSummary.creditsByCategory.공학기초/n.coursesSummary.totalCredits*100+"%"})},null,4)])])):(0,a.Q3)("",!0),(n.coursesSummary.creditsByCategory.교양||0)+(n.coursesSummary.creditsByCategory.기타||0)>0?((0,a.uX)(),(0,a.CE)("div",He,[(0,a.Lk)("div",Ne,[t[13]||(t[13]=(0,a.Lk)("span",{class:"category-name"},"기타",-1)),(0,a.Lk)("span",Ue,(0,o.v_)((n.coursesSummary.creditsByCategory.교양||0)+(n.coursesSummary.creditsByCategory.기타||0))+"학점",1)]),(0,a.Lk)("div",Ve,[(0,a.Lk)("div",{class:"bar-fill",style:(0,o.Tr)({width:((n.coursesSummary.creditsByCategory.교양||0)+(n.coursesSummary.creditsByCategory.기타||0))/n.coursesSummary.totalCredits*100+"%"})},null,4)])])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Je,[t[15]||(t[15]=(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("h3",{class:"card-title"},[(0,a.Lk)("span",{class:"card-icon"},"📅"),(0,a.eW)(" 요일별 수업 분포 ")])],-1)),(0,a.Lk)("div",Ye,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.dayDistribution,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"day-item"},[(0,a.Lk)("div",Ze,[(0,a.Lk)("span",et,(0,o.v_)(t),1),(0,a.Lk)("span",tt,(0,o.v_)(e)+"과목",1)]),(0,a.Lk)("div",st,[(0,a.Lk)("div",{class:"bar-fill",style:(0,o.Tr)({width:(e>0?e/Math.max(...Object.values(l.dayDistribution))*100:0)+"%"})},null,4)])])))),128))])]),(0,a.Lk)("div",it,[t[22]||(t[22]=(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("h3",{class:"card-title"},[(0,a.Lk)("span",{class:"card-icon"},"⏰"),(0,a.eW)(" 시간대 분석 ")])],-1)),(0,a.Lk)("div",at,[(0,a.Lk)("div",ot,[t[17]||(t[17]=(0,a.Lk)("div",{class:"stat-icon morning"},"🌅",-1)),(0,a.Lk)("div",rt,[t[16]||(t[16]=(0,a.Lk)("span",{class:"stat-label"},"오전 수업",-1)),(0,a.Lk)("span",nt,(0,o.v_)(l.morningClassCount)+"개",1)])]),(0,a.Lk)("div",lt,[t[19]||(t[19]=(0,a.Lk)("div",{class:"stat-icon afternoon"},"☀️",-1)),(0,a.Lk)("div",ct,[t[18]||(t[18]=(0,a.Lk)("span",{class:"stat-label"},"오후 수업",-1)),(0,a.Lk)("span",dt,(0,o.v_)(l.afternoonClassCount)+"개",1)])]),(0,a.Lk)("div",ut,[t[21]||(t[21]=(0,a.Lk)("div",{class:"stat-icon evening"},"🌙",-1)),(0,a.Lk)("div",mt,[t[20]||(t[20]=(0,a.Lk)("span",{class:"stat-label"},"저녁 수업",-1)),(0,a.Lk)("span",ht,(0,o.v_)(l.eveningClassCount)+"개",1)])])])]),(0,a.Lk)("div",pt,[t[23]||(t[23]=(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("h3",{class:"card-title"},[(0,a.Lk)("span",{class:"card-icon"},"💡"),(0,a.eW)(" 학습 패턴 분석 ")])],-1)),(0,a.Lk)("div",vt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.learningInsights,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"insight-item",key:e.id},[(0,a.Lk)("div",{class:(0,o.C4)(["insight-icon",e.type])},(0,o.v_)(e.emoji),3),(0,a.Lk)("div",yt,(0,o.v_)(e.message),1)])))),128))])]),(0,a.Lk)("div",kt,[t[24]||(t[24]=(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("h3",{class:"card-title"},[(0,a.Lk)("span",{class:"card-icon"},"✨"),(0,a.eW)(" 맞춤 추천 ")])],-1)),(0,a.Lk)("div",gt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.recommendations,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"recommendation-item",key:e.id},[(0,a.Lk)("div",{class:(0,o.C4)(["rec-badge",e.type])},(0,o.v_)(e.badge),3),(0,a.Lk)("div",bt,(0,o.v_)(e.message),1)])))),128))])])])])):(0,a.Q3)("",!0),"category"===n.activeTab?((0,a.uX)(),(0,a.CE)("div",Ct,[(0,a.Lk)("div",ft,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.coursesByCategory,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"category-section"},[(0,a.Lk)("h3",Lt,[(0,a.eW)((0,o.v_)(t)+" ",1),(0,a.Lk)("span",St,"("+(0,o.v_)(l.getCategoryCredits(e))+"학점)",1)]),(0,a.Lk)("div",Et,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.subjId,class:"course-item"},[(0,a.Lk)("div",_t,[(0,a.Lk)("span",wt,(0,o.v_)(e.subjKnm||e.name),1),(0,a.Lk)("span",zt,(0,o.v_)(l.parseCredits(e.crd||e.credits))+"학점",1)]),(0,a.Lk)("div",It,[(0,a.Lk)("span",Tt,(0,o.v_)(e.grade)+"학년",1),(0,a.Lk)("span",Xt,(0,o.v_)(e.wkLecrEmpnm||e.professor),1)]),(0,a.Lk)("div",xt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.schedules||e.schedule_info,((e,t)=>((0,a.uX)(),(0,a.CE)("span",{key:t,class:"schedule-time"},[(0,a.eW)((0,o.v_)(l.getDayKorean(e.day))+" "+(0,o.v_)(l.formatTimeSlot(e.start_time||e.start))+"-"+(0,o.v_)(l.formatTimeSlot(e.end_time||e.end))+" ",1),e.location?((0,a.uX)(),(0,a.CE)("span",Ot,"("+(0,o.v_)(e.location)+")",1)):(0,a.Q3)("",!0)])))),128))])])))),128))])])))),128))])])):(0,a.Q3)("",!0),"grade"===n.activeTab?((0,a.uX)(),(0,a.CE)("div",Ft,[(0,a.Lk)("div",At,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.coursesByGrade,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"grade-section"},[(0,a.Lk)("h3",Rt,[(0,a.eW)((0,o.v_)(t)+"학년 ",1),(0,a.Lk)("span",Dt,"("+(0,o.v_)(e.length)+"과목, "+(0,o.v_)(l.getGradeCredits(e))+"학점)",1)]),(0,a.Lk)("div",jt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.subjId,class:"course-item"},[(0,a.Lk)("div",Qt,[(0,a.Lk)("span",Mt,(0,o.v_)(e.subjKnm||e.name),1),(0,a.Lk)("span",$t,(0,o.v_)(l.parseCredits(e.crd||e.credits))+"학점",1)]),(0,a.Lk)("div",Bt,[(0,a.Lk)("span",qt,(0,o.v_)(e.curiCparNm||e.category),1),(0,a.Lk)("span",Kt,(0,o.v_)(e.wkLecrEmpnm||e.professor),1)]),(0,a.Lk)("div",Pt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.schedules||e.schedule_info,((e,t)=>((0,a.uX)(),(0,a.CE)("span",{key:t,class:"schedule-time"},[(0,a.eW)((0,o.v_)(l.getDayKorean(e.day))+" "+(0,o.v_)(l.formatTimeSlot(e.start_time||e.start))+"-"+(0,o.v_)(l.formatTimeSlot(e.end_time||e.end))+" ",1),e.location?((0,a.uX)(),(0,a.CE)("span",Wt,"("+(0,o.v_)(e.location)+")",1)):(0,a.Q3)("",!0)])))),128))])])))),128))])])))),128))])])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),n.feedbackSubmitted?((0,a.uX)(),(0,a.CE)("div",Zt,t[28]||(t[28]=[(0,a.Lk)("div",{class:"success-icon"},"✓",-1),(0,a.Lk)("h2",{class:"success-title"},"피드백이 제출되었습니다!",-1),(0,a.Lk)("p",{class:"success-message"},"소중한 의견 감사합니다.",-1)]))):((0,a.uX)(),(0,a.CE)("div",Gt,[t[26]||(t[26]=(0,a.Lk)("h2",{class:"feedback-title"},"시간표 피드백",-1)),t[27]||(t[27]=(0,a.Lk)("p",{class:"feedback-description"},"생성된 시간표에 대한 의견을 알려주세요!",-1)),(0,a.Lk)("div",Ht,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.feedbackText=e),class:(0,o.C4)(["feedback-input",{error:n.feedbackError&&!n.feedbackText.trim()}]),placeholder:"시간표 최적화 서비스에 대한 개선사항 및 의견을 자유롭게 작성해주세요. (필수 입력)",rows:"4",disabled:n.isSubmitting},null,10,Nt),[[i.Jo,n.feedbackText]]),n.feedbackError?((0,a.uX)(),(0,a.CE)("div",Ut,(0,o.v_)(n.feedbackError),1)):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:(0,o.C4)(["submit-button",{disabled:!n.feedbackText.trim()}]),onClick:t[4]||(t[4]=(...e)=>l.submitFeedback&&l.submitFeedback(...e)),disabled:n.isSubmitting||!n.feedbackText.trim()},[n.isSubmitting?((0,a.uX)(),(0,a.CE)("span",Jt,"제출 중...")):((0,a.uX)(),(0,a.CE)("span",Yt,"피드백 제출"))],10,Vt)])])),(0,a.Lk)("div",{class:(0,o.C4)(["action-buttons",{"with-margin":n.feedbackSubmitted}])},[(0,a.Lk)("button",{class:"action-button restart-button",onClick:t[5]||(t[5]=(...e)=>l.onRestart&&l.onRestart(...e))}," 다시 시작 "),(0,a.Lk)("button",{class:"action-button save-button",onClick:t[6]||(t[6]=(...e)=>l.onSave&&l.onSave(...e)),disabled:n.isSaving},[n.isSaving?((0,a.uX)(),(0,a.CE)("span",ts,t[29]||(t[29]=[(0,a.Lk)("span",{class:"loading-spinner"},null,-1),(0,a.eW)(" 저장 중... ")]))):((0,a.uX)(),(0,a.CE)("span",ss," 저장하기 "))],8,es)],2),n.saveSuccess?((0,a.uX)(),(0,a.CE)("div",is,t[30]||(t[30]=[(0,a.Lk)("span",{class:"notification-icon"},"✓",-1),(0,a.eW)(" 시간표가 클립보드에 복사되었습니다! ")]))):(0,a.Q3)("",!0),n.saveError?((0,a.uX)(),(0,a.CE)("div",as,[t[31]||(t[31]=(0,a.Lk)("span",{class:"notification-icon"},"⚠",-1)),(0,a.eW)(" "+(0,o.v_)(n.saveError),1)])):(0,a.Q3)("",!0)])])}s(116),s(3579);var rs=s(2125),ns=s.n(rs),ls={name:"ScheduleComponent",props:{scheduleData:{type:Array,default:()=>[]},apiResult:{type:Object,default:null},userPreferences:{type:Object,default:()=>({grade:null,desired_credits:null,user_morning:!1,user_late:!1,user_lunch:!1,user_dayoff:!1,user_no_large_gap:!1,excluded_courses:[]})}},data(){return{activeTab:"summary",feedbackText:"",feedbackSubmitted:!1,coursesSummary:null,selectedCourses:[],isSubmitting:!1,feedbackError:null,isSaving:!1,saveSuccess:!1,saveError:null}},computed:{scheduleItems(){return this.scheduleData.length>0?this.scheduleData:this.generateDummySchedule()},coursesByCategory(){const e={};return this.selectedCourses.forEach((t=>{const s=t.curiCparNm||t.category||"기타";e[s]||(e[s]=[]),e[s].push(t)})),e},coursesByGrade(){const e={};return this.selectedCourses.forEach((t=>{const s=t.grade||"미분류";e[s]||(e[s]=[]),e[s].push(t)})),e},dayDistribution(){const e={"월":0,"화":0,"수":0,"목":0,"금":0};return this.selectedCourses.forEach((t=>{const s=t.schedules||t.schedule_info||[];s.forEach((t=>{const s=t.day;Object.prototype.hasOwnProperty.call(e,s)&&e[s]++}))})),e},morningClassCount(){let e=0;return this.selectedCourses.forEach((t=>{const s=t.schedules||t.schedule_info||[];s.forEach((t=>{const s=t.start_time||t.start;s>=1&&s<=6&&e++}))})),e},afternoonClassCount(){let e=0;return this.selectedCourses.forEach((t=>{const s=t.schedules||t.schedule_info||[];s.forEach((t=>{const s=t.start_time||t.start;s>=7&&s<=12&&e++}))})),e},eveningClassCount(){let e=0;return this.selectedCourses.forEach((t=>{const s=t.schedules||t.schedule_info||[];s.forEach((t=>{const s=t.start_time||t.start;s>=13&&e++}))})),e},learningInsights(){const e=[],t=Math.max(...Object.values(this.dayDistribution)),s=Object.keys(this.dayDistribution).find((e=>this.dayDistribution[e]===t));t>2&&e.push({id:1,type:"warning",emoji:"⚠️",message:`${s}요일에 ${t}개 수업이 집중되어 있어요. 체력 관리에 신경 쓰세요!`}),this.morningClassCount>this.afternoonClassCount+this.eveningClassCount&&e.push({id:2,type:"positive",emoji:"🌅",message:"오전 수업 위주로 구성되어 하루를 효율적으로 활용할 수 있어요!"});const i=this.coursesSummary.totalCredits/this.userPreferences.desired_credits*100;return i>=90&&e.push({id:3,type:"success",emoji:"🎯",message:`목표 학점의 ${Math.round(i)}%를 달성했습니다!`}),e.length>0?e:[{id:0,type:"info",emoji:"📊",message:"균형 잡힌 시간표가 구성되었습니다!"}]},recommendations(){const e=[],t=Object.values(this.dayDistribution).some((e=>0===e));t&&e.push({id:1,type:"success",badge:"👍",message:"공강일이 있어 휴식과 자율학습 시간을 확보할 수 있어요!"});const s=(this.coursesSummary.creditsByCategory.전공필수||0)+(this.coursesSummary.creditsByCategory.전공선택||0),i=s/this.coursesSummary.totalCredits;return i>.7&&e.push({id:2,type:"info",badge:"📚",message:"전공 과목 위주로 구성되어 전문성 향상에 도움이 됩니다!"}),this.morningClassCount>2&&e.push({id:3,type:"tip",badge:"⏰",message:"오전 수업이 많으니 충분한 수면과 아침 식사를 챙기세요!"}),e.length>0?e:[{id:0,type:"default",badge:"✨",message:"잘 구성된 시간표입니다. 학업에 집중하세요!"}]}},created(){this.$props.apiResult&&this.$props.apiResult.selected&&this.processSelectedCourses(this.$props.apiResult.selected)},methods:{onRestart(){this.$emit("restart")},async submitFeedback(){try{if(!this.feedbackText.trim())return void(this.feedbackError="피드백 의견을 입력해주세요.");this.isSubmitting=!0,this.feedbackError=null;const e={comment:this.feedbackText.trim(),schedule:this.scheduleData||[],preferences:this.userPreferences};console.log("피드백 제출 데이터:",e);const t=ne.getFullUrl(ne.endpoints.FEEDBACK),s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const e=await s.json().catch((()=>({})));throw console.error("서버 오류 응답:",e),new Error(`서버 응답 오류: ${s.status}`)}const i=await s.json();console.log("피드백 제출 결과:",i),this.feedbackSubmitted=!0,setTimeout((()=>{const e=document.querySelector(".feedback-success");e&&e.scrollIntoView({behavior:"smooth"})}),100)}catch(e){console.error("피드백 제출 오류:",e),this.feedbackError="피드백 제출 중 오류가 발생했습니다. 나중에 다시 시도해주세요."}finally{this.isSubmitting=!1}},async onSave(){if(!this.isSaving){this.isSaving=!0,this.saveSuccess=!1,this.saveError=null;try{const e=document.querySelector(".timetable-container");if(!e)throw new Error("시간표 요소를 찾을 수 없습니다.");const t=await ns()(e,{backgroundColor:"#ffffff",scale:2,useCORS:!0,logging:!1});t.toBlob((async e=>{try{if(navigator.clipboard&&navigator.clipboard.write){const t=new ClipboardItem({"image/png":e});await navigator.clipboard.write([t]),this.saveSuccess=!0,setTimeout((()=>{this.saveSuccess=!1}),3e3)}else{const t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="내_시간표.png",document.body.appendChild(s),s.click(),document.body.removeChild(s),this.saveSuccess=!0,setTimeout((()=>{this.saveSuccess=!1}),3e3)}}catch(t){console.error("클립보드 저장 실패:",t),this.saveError="클립보드에 저장할 수 없습니다. 권한을 확인하거나 다시 시도해주세요."}finally{this.isSaving=!1}}),"image/png")}catch(e){console.error("이미지 생성 오류:",e),this.saveError="시간표 이미지를 생성할 수 없습니다. 다시 시도해주세요.",this.isSaving=!1}}},processSelectedCourses(e){this.selectedCourses=e;const t=e.reduce(((e,t)=>{const s=this.parseCredits(t.crd||t.credits);return e+s}),0),s=e.length,i={};e.forEach((e=>{const t=e.curiCparNm||e.category||"기타",s=this.parseCredits(e.crd||e.credits);i[t]=(i[t]||0)+s}));const a={};e.forEach((e=>{const t=e.grade||"미분류";a[t]=(a[t]||0)+1})),this.coursesSummary={totalCredits:t,totalCourses:s,creditsByCategory:i,coursesByGrade:a}},getCategoryCredits(e){return e.reduce(((e,t)=>e+this.parseCredits(t.crd||t.credits)),0)},getGradeCredits(e){return e.reduce(((e,t)=>e+this.parseCredits(t.crd||t.credits)),0)},parseCredits(e){if("number"===typeof e)return e;if("string"===typeof e){const t=e.match(/^(\d+)/);return t?parseInt(t[1]):0}return 0},getDayKorean(e){const t={MON:"월",TUE:"화",WED:"수",THU:"목",FRI:"금",monday:"월",tuesday:"화",wednesday:"수",thursday:"목",friday:"금"};return t[e]||e},formatTimeSlot(e){if("number"===typeof e){const t=Math.floor((e-1)/2)+9,s=(e-1)%2*30;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}return e},formatTime(e){if("number"===typeof e){const t=Math.floor(e/2)+9,s=e%2*30;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}return e},generateDummySchedule(){return[{day:1,startHour:9,duration:2,title:"공업수학",type:"study"},{day:1,startHour:13,duration:2,title:"대학영어",type:"study"},{day:2,startHour:10,duration:2,title:"일반물리",type:"study"},{day:3,startHour:14,duration:3,title:"종합설계",type:"project"},{day:4,startHour:9,duration:1,title:"러닝",type:"exercise"},{day:5,startHour:11,duration:2,title:"OR",type:"hobby"},{day:5,startHour:15,duration:2,title:"알바",type:"social"}]},calculateGridRow(e,t){const s=2*(e-9),i=30===t?1:0;return s+i+1},calculateGridSpan(e){return 2*e}}};const cs=(0,k.A)(ls,[["render",os],["__scopeId","data-v-f2635dde"]]);var ds=cs,us={name:"App",components:{StartComponent:b,GradeSelectComponent:O,QuestionComponent:K,OptimizationComponent:de,ScheduleComponent:ds},data(){return{currentView:"start",currentQuestionIndex:0,grade:null,desiredCredits:15,questions:["아침 수업을 선호하시나요?","저녁 시간대 수업은 피하고 싶으신가요?","점심 시간대(12~1시) 수업은 피하고 싶으신가요?","일주일에 최소 하루는 공강이 있었으면 좋겠나요?","수업 사이 긴 공강은 피하고 싶으신가요?"],answers:[],scheduleData:[],optimizationData:null,apiResult:null}},computed:{currentQuestion(){return this.questions[this.currentQuestionIndex]}},methods:{showGradeSelect(){this.currentView="grade-select"},handleInfoSubmission(e){this.grade=e.grade,this.desiredCredits=e.credits,this.currentView="question"},handleAnswer(e){this.answers.push({question:this.currentQuestion,answer:e}),this.currentQuestionIndex<this.questions.length-1?this.currentQuestionIndex++:(this.prepareOptimizationRequest(),this.currentView="optimization")},prepareOptimizationRequest(){this.optimizationData={grade:this.grade,desired_credits:this.desiredCredits,user_morning:this.getAnswerFor(0),user_late:this.getAnswerFor(1),user_lunch:this.getAnswerFor(2),user_dayoff:this.getAnswerFor(3),user_no_large_gap:this.getAnswerFor(4)},console.log("최적화 요청 데이터:",this.optimizationData)},getAnswerFor(e){return this.answers[e]?.answer||!1},showSchedule(e){this.apiResult=e,this.processScheduleResult(),this.currentView="schedule"},processScheduleResult(){if(this.apiResult){if(this.apiResult.processedScheduleData)return void(this.scheduleData=this.apiResult.processedScheduleData);if(this.apiResult.selected)return void(this.scheduleData=this.convertApiResultToScheduleData(this.apiResult.selected))}this.generateDummySchedule()},convertApiResultToScheduleData(e){const t=["study","project","exercise","hobby","social"];let s=[];return e.forEach(((e,i)=>{const a=t[i%t.length];e.schedule_info.forEach((t=>{const i=this.convertPeriodToTime(t.start),o=t.end-t.start+1,r=o/2;s.push({title:e.name,day:this.getDayNumber(t.day),startHour:i.hour,startMinute:i.minute,duration:r,type:a,location:t.location||""})}))})),s},mapPeriodToTime(e){const t=Math.floor((e-1)/2)+9,s=(e-1)%2*30;return{hour:t,minute:s}},convertPeriodToTime(e){const t=9,s=Math.floor((e-1)/2)+t,i=(e-1)%2*30;return{hour:s,minute:i}},mapScheduleToCellPosition(e,t,s){const i=this.getDayNumber(e),a=2*(t-1)+1,o=s-t+1,r=o;return{column:i,row:a,rowSpan:r}},calculateSchedulePosition(e,t){const s=this.mapPeriodToTime(e),i=t-e+1,a=Math.floor(2*(s.hour-9))+(30===s.minute?1:0)+1,o=i/2;return{startRow:a,duration:o}},getCourseType(e){const t=["study","project","exercise","hobby","social"],s=e.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0);return t[s%t.length]},getDayNumber(e){const t={"월":1,"화":2,"수":3,"목":4,"금":5};return t[e]||1},getRandomType(){const e=["study","project","exercise","hobby","social"];return e[Math.floor(Math.random()*e.length)]},generateDummySchedule(){this.scheduleData=[{day:1,startHour:9,duration:3,title:"마케팅공학",type:"study",location:"A동 101호"},{day:2,startHour:9,duration:2,title:"재무관리",type:"project",location:"B동 203호"},{day:2,startHour:12,duration:2,title:"빅데이터분석",type:"exercise",location:"공대 305호"},{day:3,startHour:9,duration:3,title:"실험계획법",type:"hobby",location:"공학관 402호"},{day:3,startHour:12,duration:3,title:"생산관리",type:"social",location:"경영관 203호"},{day:4,startHour:9,duration:2,title:"재무관리",type:"project",location:"B동 203호"},{day:4,startHour:12,duration:2,title:"빅데이터분석",type:"exercise",location:"공대 305호"},{day:5,startHour:11,duration:3,title:"제조공학",type:"study",location:"공학관 301호"}]},restartApp(){this.currentView="start",this.currentQuestionIndex=0,this.grade=null,this.desiredCredits=15,this.answers=[],this.scheduleData=[],this.optimizationData=null,this.apiResult=null,window.scrollTo(0,0),console.log("앱이 초기화되었습니다.")}}};const ms=(0,k.A)(us,[["render",m]]);var hs=ms;(0,i.Ef)(hs).mount("#app")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,o){if(!i){var r=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],o=e[d][2];for(var n=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(n=!1,o<r&&(r=o));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,r=i[0],n=i[1],l=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(t&&t(i);c<r.length;c++)o=r[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},i=self["webpackChunktos"]=self["webpackChunktos"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],(function(){return s(8930)}));i=s.O(i)})();
//# sourceMappingURL=app.ffa0621d.js.map